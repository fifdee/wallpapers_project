{% extends 'account/base.html' %}

{% if request.session.category %}
    {% block title %}{{ request.session.category|capfirst }} {{ request.session.sort }} wallpapers{% endblock title %}
{% endif %}

{% block content %}
    {% include 'wallpapers/downloads_count.html' %}

    <section class="py-2">
        <div class="container px-1 mt-1">
            <div class="row justify-content-center">
                {% for object in object_list %}
                    {% if object.is_landscape %}
                        <div class="card bg-black col mx-0 my-2 p-1">
                    {% else %}
                        {% if not request.user_agent.is_mobile %}
                            <div class="card bg-black col-4 mx-0 my-2 p-1">
                        {% else %}
                            <div class="card bg-black col-10 mx-0 my-2 p-1">
                        {% endif %}
                    {% endif %}
                            <img src="{{ object.image.url }}" class="card-img-top" alt="{{ object.title }}">
                            <div class="card-body">
                                <div hx-post="{% url 'wallpaper_approve' %}" hx-target="body"
                                     hx-vals='{"pk":"{{ object.pk }}"}' class="btn btn-dark py-1">Approve
                                </div>

                                <div hx-post="{% url 'wallpaper_approve_premium' %}" hx-target="body"
                                     hx-vals='{"pk":"{{ object.pk }}"}' class="btn btn-dark py-1">Approve as premium
                                </div>

                                <div hx-post="{% url 'wallpaper_delete' %}" hx-target="body"
                                     hx-vals='{"pk":"{{ object.pk }}"}' class="btn btn-dark py-1">Delete
                                </div>

                                <h6 class="card-text text-white-50 small mt-3">{{ object.title }}</h6>
                            </div>
                        </div>

                {% endfor %}
            </div>
        </div>
    </section>

    <div class="pagination text-white-50 justify-content-center mb-3">
        <span class="step-links">
            {% if object_list.has_previous %}
                <a class="btn btn-dark py-1" href="?page=1">&laquo; first</a>
                <a class="btn btn-dark py-1 btn-lg" href="?page={{ object_list.previous_page_number }}">previous</a>
            {% endif %}

            <span class="current">
                Page {{ object_list.number }} of {{ object_list.paginator.num_pages }}.
            </span>

            {% if object_list.has_next %}
                <a class="btn btn-dark py-1 btn-lg" href="?page={{ object_list.next_page_number }}">next</a>
                <a class="btn btn-dark py-1" href="?page={{ object_list.paginator.num_pages }}">last &raquo;</a>
            {% endif %}
        </span>
    </div>
{% endblock content %}